<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dataviz Exercise</title>
</head>
<body>

    <h1>Dataviz Exercise</h1>

    <h2>Pie Charts</h2>

    <div id="pie-chart-container"></div>
    <br>

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script type="text/javascript">

        console.log("MAKING SOME PIE CHARTS...")

        // EXAMPLE
        // see: https://plotly.com/javascript/pie-charts/
        //
        // var data = [{
        //     values: [19, 26, 55],
        //     labels: ['Residential', 'Non-Residential', 'Utility'],
        //     type: 'pie'
        // }];
        // var layout = {
        //     height: 400,
        //     width: 500
        // };
        // Plotly.newPlot('pie-chart-container', data, layout);

        // SETUP

        var pieData = [
            {"company": "Company X", "market_share": 0.55},
            {"company": "Company Y", "market_share": 0.30},
            {"company": "Company Z", "market_share": 0.15}
        ] // leave this data as-is

        // IMPLEMENTATION

        console.log("PIE DATA", pieData)

        var companies = pieData.map(obj => obj["company"])
        var marketShares = pieData.map(obj => obj["market_share"])

        var data = [{
            values: marketShares,
            labels: companies,
            type: 'pie'
        }]
        var layout = {height: 600, width: 700}
        Plotly.newPlot('pie-chart-container', data, layout);


    </script>
</body>
</html>
